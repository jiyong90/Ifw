<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.isu.ifw.mapper.WtmInterfaceMapper">
	
	<select id="getCode" parameterType="map" resultType="hashmap">
        <![CDATA[
			SELECT ENTER_CD, GRCODE_CD, CODE, CODE_NM, SYMD, NOTE
			  FROM V_IF_WTM_CODE
			 WHERE GRCODE_CD IN ('H20010', 'H20020', 'H20030', 'H10050', 'H10110', 'T10003', 'W20010')
			   AND CHKDATE > TO_DATE(#{lastDataTime}, 'YYYYMMDDHH24MISS') 
			 ORDER BY ENTER_CD, GRCODE_CD
        ]]>
    </select>
    
    <select id="getHoliday" parameterType="map" resultType="hashmap">
        <![CDATA[
			SELECT ENTER_CD, LOCATION_CD, YY||MM||DD AS YMD, HOLIDAY_NM, FESTIVE_YN, PAY_YN
			  FROM V_IF_WTM_HOLIDAY
			 WHERE CHKDATE > TO_DATE(#{lastDataTime}, 'YYYYMMDDHH24MISS') 
			 ORDER BY ENTER_CD
        ]]>
    </select>
    
    <select id="getGnt" parameterType="map" resultType="hashmap">
        <![CDATA[
			SELECT ENTER_CD, GNT_CD, GNT_NM, GNT_GUBUN_CD, HOL_INCL_YN, REQUEST_USE_TYPE, WORK_YN
			  FROM V_IF_TAA_CODE
			 WHERE CHKDATE > TO_DATE(#{lastDataTime}, 'YYYYMMDDHH24MISS') 
			 ORDER BY ENTER_CD
        ]]>
    </select>
    
    <select id="getOrg" parameterType="map" resultType="hashmap">
        <![CDATA[
			SELECT ENTER_CD, ORG_CD, ORG_NM, SDATE, EDATE, MEMO
			  FROM V_IF_ORG_CODE
			 WHERE CHKDATE > TO_DATE(#{lastDataTime}, 'YYYYMMDDHH24MISS') 
			 ORDER BY ENTER_CD
        ]]>
    </select>
    
    <select id="getOrgChart" parameterType="map" resultType="hashmap">
        <![CDATA[
			SELECT DISTINCT ENTER_CD, ORG_CHART_NM, SDATE, EDATE, MEMO
			  FROM V_IF_ORG_CHART
			 WHERE CHKDATE > TO_DATE(#{lastDataTime}, 'YYYYMMDDHH24MISS')
			 ORDER BY SDATE
        ]]>
    </select>
    
    <select id="getOrgChartDtl" parameterType="map" resultType="hashmap">
        <![CDATA[
        	SELECT ORG_CD, PRIOR_ORG_CD, SEQ, ORG_LEVEL, ORDER_SEQ
			  FROM V_IF_ORG_CHART
			 WHERE ENTER_CD = #{enterCd}
			   AND sdate = #{sdate}
			 ORDER BY ORDER_SEQ
        ]]>
    </select>
    
    <select id="getOrgMap" parameterType="map" resultType="hashmap">
        <![CDATA[
			SELECT ENTER_CD, MAP_TYPE_CD, MAP_CD, MAP_NM, SDATE, EDATE, NOTE
			  FROM V_IF_ORG_MAP_CODE
			 WHERE CHKDATE > TO_DATE(#{lastDataTime}, 'YYYYMMDDHH24MISS') 
			 ORDER BY ENTER_CD, MAP_TYPE_CD
        ]]>
    </select>
    
    <select id="getEmp" parameterType="map" resultType="hashmap">
        <![CDATA[
			SELECT ENTER_CD, SABUN, EMP_NM, EMP_ENG_NM, SYMD, STATUS_CD, ORG_CD, BUSINESS_PLACE_CD
			     , DUTY_CD, POS_CD, CLASS_CD, JOB_GROUP_CD, JOB_CD, PAY_TYPE_CD, ORG_PATH, LEADER_YN
			  FROM V_IF_WTM_EMPHIS
			 WHERE CHKDATE > TO_DATE(#{lastDataTime}, 'YYYYMMDDHH24MISS')
			   AND SABUN BETWEEN '160000' AND '190000' -- 개발테스트용 임시
			 ORDER BY ENTER_CD, SABUN, SYMD
        ]]>
    </select>
    
    <select id="getEmpAddr" parameterType="map" resultType="hashmap">
        <![CDATA[
			SELECT ENTER_CD, SABUN, EMAIL, HAND_PHONE, NOTE
			  FROM V_IF_EMP_ADDR
			 WHERE CHKDATE > TO_DATE(#{lastDataTime}, 'YYYYMMDDHH24MISS') 
			 ORDER BY ENTER_CD
        ]]>
    </select>
</mapper>
